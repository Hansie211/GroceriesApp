"use strict";(globalThis["webpackChunkgroceriesapp"]=globalThis["webpackChunkgroceriesapp"]||[]).push([[759],{1507:(e,t,n)=>{n.r(t),n.d(t,{default:()=>le});var i=n(9835),o=n(6970),r=n(1957);const s=e=>((0,i.dD)("data-v-ccd34a90"),e=e(),(0,i.Cn)(),e),a=s((()=>(0,i._)("div",{id:"backdrop",class:"print-hide"},null,-1))),d={id:"page"},l={class:"print-hide grid-row row q-pa-sm q-pt-lg q-gutter-x-sm full-width"},u={class:"flex items-start"},c={class:"column"},p=s((()=>(0,i._)("div",{style:{"font-size":"8px"}},"Met checkboxes",-1))),m={class:"grid-row row justify-around q-pa-none q-ma-none overflow-sm"},h={class:"recipe-title ellipsis-2-lines"},g={class:"qr"},w={class:"grid-row row text-caption q-pt-md q-pb-sm",style:{transform:"translateX(-10px)"}},f={class:"ingredient-info q-pr-md full-width"},k=["onClick"],v={key:0,class:"circle"},q={class:"amount"},C={key:0},b=["onClick"],_={key:0},y={key:1,style:{display:"inline-block","padding-left":"2px","padding-right":"3px"}},I={class:"q-ma-none q-pa-none q-pl-sm"};function x(e,t,n,s,x,Z){const L=(0,i.up)("q-btn"),D=(0,i.up)("q-space"),W=(0,i.up)("q-icon"),R=(0,i.up)("q-select"),S=(0,i.up)("q-checkbox"),z=(0,i.up)("qrcode-vue"),P=(0,i.up)("division"),Q=(0,i.up)("q-tooltip");return(0,i.wg)(),(0,i.iD)(i.HY,null,[a,(0,i._)("div",d,[(0,i._)("div",l,[(0,i._)("div",u,[(0,i.Wm)(L,{icon:"fa-solid fa-arrow-left-long",onClick:t[0]||(t[0]=t=>e.$router.go(-1))})]),(0,i.Wm)(D),(0,i.Wm)(R,{outlined:"",modelValue:e.currentList.personCount,"onUpdate:modelValue":t[1]||(t[1]=t=>e.currentList.personCount=t),options:[1,2,3,4,5,6],dense:"","options-dense":"",label:"Aantal personen",style:{width:"180px"}},{prepend:(0,i.w5)((()=>[(0,i.Wm)(W,{size:"15px",name:"fa-solid fa-people-group",class:"q-mr-sm"})])),_:1},8,["modelValue"]),(0,i._)("div",c,[(0,i.Wm)(L,{icon:"fa-solid fa-print",onClick:e.printList},null,8,["onClick"]),(0,i.Wm)(S,{modelValue:e.showCheckboxes,"onUpdate:modelValue":t[2]||(t[2]=t=>e.showCheckboxes=t),"left-label":"",size:"20px","checked-icon":"fa-regular fa-square-check","unchecked-icon":"fa-regular fa-square"},{default:(0,i.w5)((()=>[p])),_:1},8,["modelValue"])])]),(0,i._)("div",m,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.recipes,(t=>{var n;return(0,i.wg)(),(0,i.iD)("div",{key:null!==(n=t.id)&&void 0!==n?n:void 0,class:"recipe-info column items-center q-mt-sm"},[(0,i._)("div",h,(0,o.zw)(t.name),1),(0,i._)("div",g,[(0,i.Wm)(L,{size:"7px",color:"negative",class:"remove-btn print-hide text-weight-medium bg-white text-bold",icon:"fa-regular fa-circle-xmark",flat:"",round:"",onClick:()=>e.deleteRecipe(t)},null,8,["onClick"]),(0,i.Wm)(z,{class:"cursor-pointer",value:t.link,size:90,level:"H",onClick:()=>e.showRecipeInfo(t)},null,8,["value","onClick"])])])})),128))]),(0,i._)("div",w,"Ingredienten (voor "+(0,o.zw)(e.currentList.personCount)+" personen)",1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.ingredientList,((t,n)=>((0,i.wg)(),(0,i.iD)("div",{key:n,class:(0,o.C_)({"ingredient-item":!0,grayed:t.isHidden,"print-hide":t.isHidden})},[(0,i._)("div",f,[(0,i._)("div",{class:"name",style:{"overflow-wrap":"anywhere",position:"relative"},onClick:()=>{null!==t.productId&&(t.isHidden=!t.isHidden)}},[e.showCheckboxes?((0,i.wg)(),(0,i.iD)("span",v)):(0,i.kq)("",!0),(0,i._)("span",null,(0,o.zw)(e.getProduct(t).name),1)],8,k),(0,i._)("div",q,["portie"===e.getProduct(t).unit?((0,i.wg)(),(0,i.iD)("span",C,"Naar smaak")):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i._)("span",{class:"ellipsis cursor-pointer",onClick:()=>{null!==t.productId&&e.onEditIngredient(t)}},[Math.floor(t.amount*e.ingredientRatio)>0?((0,i.wg)(),(0,i.iD)("span",_,(0,o.zw)(Math.floor(t.amount*e.ingredientRatio)),1)):(0,i.kq)("",!0),e.getRemainderDivision(t.amount*e.ingredientRatio)?((0,i.wg)(),(0,i.iD)("span",y,[(0,i.Wm)(P,{value:e.getRemainderDivision(t.amount*e.ingredientRatio)},null,8,["value"])])):(0,i.kq)("",!0),(0,i.Uk)(" "+(0,o.zw)(e.getProduct(t).unit),1)],8,b),(0,i.wy)((0,i.Wm)(L,{padding:"none",class:"q-ml-sm print-hide",rounded:"",onClick:()=>t.amount=t.orginalAmount},{default:(0,i.w5)((()=>[(0,i.Wm)(W,{name:"fa-solid fa-arrow-rotate-right",class:"reset-icon",size:"7px"})])),_:2},1032,["onClick"]),[[r.F8,t.amount!==t.orginalAmount]])],64))])]),null!==t.productId?((0,i.wg)(),(0,i.j4)(Q,{key:0,anchor:"center right",self:"top left",offset:[-50,10],delay:500},{default:(0,i.w5)((()=>[(0,i.Uk)(" In: "),(0,i._)("ul",I,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.recipeIds,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t},(0,o.zw)(e.modelStore.findRecipeById(t).name),1)))),128))])])),_:2},1024)):(0,i.kq)("",!0)],2)))),128))])],64)}var Z=n(2931),L=n(7774),D=n(5901);function W(e,t,n,s,a,d){const l=(0,i.up)("q-input"),u=(0,i.up)("q-card-section"),c=(0,i.up)("q-btn"),p=(0,i.up)("q-space"),m=(0,i.up)("q-form"),h=(0,i.up)("q-card"),g=(0,i.up)("q-dialog");return(0,i.wg)(),(0,i.j4)(g,{id:"dialog",ref:"dialog",onHide:t[1]||(t[1]=()=>e.$emit("hide"))},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{id:"card",style:{width:"25%","min-width":"350px","max-width":"unset"}},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{onSubmit:(0,r.iM)(e.ok,["prevent"])},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{id:"content-section",class:"text-h6 q-pa-sm q-ma-sm"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.product.name)+" ",1),(0,i.Wm)(l,{modelValue:e.amount,"onUpdate:modelValue":t[0]||(t[0]=t=>e.amount=t),type:"number",autofocus:"","shadow-text":" "+e.product.unit,rules:[e=>!!e||"* Required"]},null,8,["modelValue","shadow-text","rules"])])),_:1}),(0,i.Wm)(u,{id:"action-section",class:"row q-gutter-sm"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{flat:"",padding:"none",icon:"cancel",label:"Annuleren",onClick:e.hide},null,8,["onClick"]),(0,i.Wm)(p),(0,i.Wm)(c,{flat:"",padding:"none",icon:"save",color:"primary",label:"Opslaan",type:"submit"})])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},512)}var R=n(4865);const S=(0,i.aZ)({name:"EditIngredientAmount",emits:["ok","hide"],props:{product:{type:R.Z,required:!0},initialAmount:{type:Number,default:0}},data(){return{amount:this.initialAmount}},methods:{show(){this.dialogComponent.show()},hide(){this.dialogComponent.hide()},ok(){this.$emit("ok",this.amount),this.hide()}},computed:{dialogComponent(){return this.$refs["dialog"]}}});var z=n(1639),P=n(7743),Q=n(4458),H=n(8326),M=n(3190),V=n(6611),$=n(4455),A=n(136),B=n(9984),U=n.n(B);const N=(0,z.Z)(S,[["render",W],["__scopeId","data-v-e5b81f9e"]]),j=N;U()(S,"components",{QDialog:P.Z,QCard:Q.Z,QForm:H.Z,QCardSection:M.Z,QInput:V.Z,QBtn:$.Z,QSpace:A.Z});const Y={id:"box"},E={class:"upper"},O={class:"lower"};function F(e,t,n,r,s,a){return(0,i.wg)(),(0,i.iD)("span",Y,[(0,i._)("span",E,(0,o.zw)(e.upper),1),(0,i.Uk)(" / "),(0,i._)("span",O,(0,o.zw)(e.lower),1)])}const K=(0,i.aZ)({name:"Division",props:{value:{type:String,required:!0}},computed:{seperatorPos(){return this.value.indexOf("/")},upper(){const e=this.value.substring(0,this.seperatorPos);return Number.parseInt(e)},lower(){const e=this.value.substring(this.seperatorPos+1);return Number.parseInt(e)}}}),T=(0,z.Z)(K,[["render",F],["__scopeId","data-v-5681f9dc"]]),X=T;var G=n(7848),J=n(8401);const ee=(0,i.aZ)({name:"PrintListPage",components:{QrcodeVue:Z.Z,Division:X},setup(){const e=(0,L.Wp)(),t=(0,G.V)();return(0,J.Z)((()=>{const t=e.getSelectedList(),n=t.id===e.current.id?"Deze week":t.name;return{title:n}})),{shoppingListStore:e,modelStore:t,columnCount:5}},data(){return{showCheckboxes:!0}},methods:{printList(){window.print()},getProduct(e){return this.modelStore.findProductById(e.productId)},itemsPerRow(e){return this.ingredientList.slice(e*this.columnCount,(e+1)*this.columnCount)},deleteRecipe(e){this.shoppingListStore.removeRecipeFromList(this.currentList,e)},showRecipeInfo(e){this.$q.dialog({component:D.Z,componentProps:{recipe:e,editMode:!1}})},onEditIngredient(e){this.$q.dialog({component:j,componentProps:{product:this.getProduct(e),initialAmount:Math.round(e.amount*this.ingredientRatio*100)/100}}).onOk((t=>e.amount=t/this.ingredientRatio))},getRemainderDivision(e){const t=[1,2,3,4,5],n={0:"",100:""};t.forEach((e=>{for(var t=1;t<=e;t++){const i=Math.round(t/e*100);if(void 0!==n[i])continue;const o=`${t}/${e}`;n[i]=o}}));const i=Math.round(100*e)%100;return Object.entries(n).reduce(((e,t)=>{const n=Number.parseInt(t[0]),o=Number.parseInt(e[0]);return Math.abs(n-i)<Math.abs(o-i)?t:e}))[1]}},computed:{dialogComponent(){return this.$refs["dialog"]},currentList(){return this.shoppingListStore.getSelectedList()},recipes(){return this.currentList.recipeIds.map((e=>this.modelStore.findRecipeById(e)))},ingredientList(){return[...this.currentList.items].sort(((e,t)=>this.modelStore.findProductById(e.productId).name.localeCompare(this.modelStore.findProductById(t.productId).name)))},rowCount(){return Math.ceil(this.ingredientList.length/this.columnCount)},ingredientRatio(){return this.currentList.personCount/2},recipesCount(){return this.currentList.recipeIds.length}}}),te=()=>{(0,r.sj)((e=>({"0a046210":e.columnCount,"0b8668da":e.recipesCount})))},ne=ee.setup;ee.setup=ne?(e,t)=>(te(),ne(e,t)):te;const ie=ee;var oe=n(8556),re=n(2857),se=n(1221),ae=n(6858);const de=(0,z.Z)(ie,[["render",x],["__scopeId","data-v-ccd34a90"]]),le=de;U()(ie,"components",{QBtn:$.Z,QSpace:A.Z,QSelect:oe.Z,QIcon:re.Z,QCheckbox:se.Z,QTooltip:ae.Z})}}]);