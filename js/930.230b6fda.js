"use strict";(globalThis["webpackChunkgroceriesapp"]=globalThis["webpackChunkgroceriesapp"]||[]).push([[930],{7175:(e,t,i)=>{i.r(t),i.d(t,{default:()=>ot});var s=i(9835);function o(e,t,i,o,n,l){const r=(0,s.up)("menu-list"),a=(0,s.up)("menu-book"),d=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(d,{id:"page"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{id:"menu-list","all-recipes":e.recipes},null,8,["all-recipes"]),(0,s.Wm)(a,{id:"overview",recipes:e.recipes},null,8,["recipes"])])),_:1})}var n=i(8401);const l={id:"component",class:"q-mb-lg"},r={id:"search-bar",class:"column"},a={class:"row"},d={class:"row no-wrap q-pr-sm q-pt-sm"},c={id:"result-box",class:"q-pa-md flex row justify-center q-gutter-md q-mb-md"};function p(e,t,i,o,n,p){const u=(0,s.up)("q-icon"),m=(0,s.up)("q-input"),h=(0,s.up)("q-checkbox"),g=(0,s.up)("filter-select"),f=(0,s.up)("page-select"),v=(0,s.up)("recipe-card");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",r,[(0,s._)("div",a,[(0,s.Wm)(m,{square:"",outlined:"",clearable:"",debounce:"300",style:{width:"100%"},modelValue:e.filter.props.searchText.value,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filter.props.searchText.value=t)},{append:(0,s.w5)((()=>[(0,s.Wm)(u,{name:"search"})])),_:1},8,["modelValue"])]),(0,s._)("div",d,[(0,s.Wm)(h,{modelValue:e.filter.props.onlyLiked.value,"onUpdate:modelValue":t[1]||(t[1]=t=>e.filter.props.onlyLiked.value=t),"checked-icon":"fa-solid fa-heart","unchecked-icon":"fa-regular fa-heart"},null,8,["modelValue"]),(0,s.Wm)(h,{modelValue:e.filter.props.showHidden.value,"onUpdate:modelValue":t[2]||(t[2]=t=>e.filter.props.showHidden.value=t),"checked-icon":"fa-solid fa-eye","unchecked-icon":"fa-regular fa-solid fa-eye-slash"},null,8,["modelValue"]),(0,s.Wm)(g,{filled:"",dense:"",placeholder:"Aardappel...",modelValue:e.filter.props.ingredients.value,"onUpdate:modelValue":t[3]||(t[3]=t=>e.filter.props.ingredients.value=t),options:e.allProducts,multiple:"","use-chips":"","option-label":e=>e.name,class:"full-width q-pl-sm"},null,8,["modelValue","options","option-label"]),(0,s.Wm)(g,{filled:"",dense:"",placeholder:"Vega, Snel...",modelValue:e.filter.props.tags.value,"onUpdate:modelValue":t[4]||(t[4]=t=>e.filter.props.tags.value=t),options:e.allTags,multiple:"","use-chips":"","option-label":e=>e.text,class:"full-width q-pl-sm"},null,8,["modelValue","options","option-label"])])]),(0,s.Wm)(f,{modelValue:e.pageIndex,"onUpdate:modelValue":t[5]||(t[5]=t=>e.pageIndex=t),"total-items":e.resultList.length,"page-size":e.itemsPerPage,"onUpdate:pageSize":t[6]||(t[6]=t=>e.itemsPerPage=t)},null,8,["modelValue","total-items","page-size"]),(0,s._)("div",c,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.pageList,(t=>{var i,o;return(0,s.wg)(),(0,s.j4)(v,{key:null!==(i=t.id)&&void 0!==i?i:void 0,recipe:t,onSelect:()=>e.onSelectRecipe(t),"is-selected":e.currentList.recipeIds.includes(null!==(o=t.id)&&void 0!==o?o:""),editMode:e.shoppingListStore.getEditMode()},null,8,["recipe","onSelect","is-selected","editMode"])})),128))]),e.resultList.length>0?((0,s.wg)(),(0,s.j4)(f,{key:0,modelValue:e.pageIndex,"onUpdate:modelValue":t[7]||(t[7]=t=>e.pageIndex=t),"total-items":e.resultList.length,"page-size":e.itemsPerPage},null,8,["modelValue","total-items","page-size"])):(0,s.kq)("",!0)])}var u=i(1745),m=i(499),h=i(6970);const g={class:"text-h6 ellipsis-2-lines"},f={class:"text-subtitle2 ellipsis-2-lines q-mt-sm"},v={class:"q-gutter-x-sm"},w={class:"action-bar"};function x(e,t,i,o,n,l){const r=(0,s.up)("q-img"),a=(0,s.up)("q-badge"),d=(0,s.up)("q-card-section"),c=(0,s.up)("q-btn"),p=(0,s.up)("q-checkbox"),u=(0,s.up)("q-icon"),m=(0,s.up)("q-card");return(0,s.wg)(),(0,s.j4)(m,{class:"card"},{default:(0,s.w5)((()=>{var i;return[(0,s.Wm)(r,{style:{cursor:"pointer"},src:null!==(i=e.recipe.imageLink)&&void 0!==i?i:"",height:"180px",width:"100%",onClick:e.showMoreInfo},null,8,["src","onClick"]),(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s._)("div",g,(0,h.zw)(e.recipe.name),1),(0,s._)("div",f,(0,h.zw)(e.recipe.subtitle),1),(0,s._)("div",v,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.recipe.tags,(e=>((0,s.wg)(),(0,s.j4)(a,{key:e.id,label:e.toString(),color:"secondary"},null,8,["label"])))),128))])])),_:1}),(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s._)("div",w,[(0,s.Wm)(c,{label:"Meer info",onClick:e.showMoreInfo},null,8,["onClick"]),(0,s.Wm)(p,{modelValue:e.liked,"onUpdate:modelValue":t[0]||(t[0]=t=>e.liked=t),color:"secondary","checked-icon":"fa-solid fa-heart","unchecked-icon":"fa-regular fa-heart"},null,8,["modelValue"]),(0,s._)("div",null,[e.editMode?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[e.isSelected?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(c,{key:0,icon:"add",padding:"2px",size:"sm",color:"primary",class:"text-weight-medium",onClick:t[1]||(t[1]=()=>e.$emit("select"))})),e.isSelected?((0,s.wg)(),(0,s.j4)(c,{key:1,icon:"check",padding:"2px",size:"sm",color:"secondary",class:"text-weight-medium",onClick:t[2]||(t[2]=()=>e.$emit("select"))})):(0,s.kq)("",!0)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[e.isSelected?((0,s.wg)(),(0,s.j4)(u,{key:0,name:"check",padding:"2px",size:"sm",color:"secondary",class:"text-weight-medium"})):(0,s.kq)("",!0)],64))])])])),_:1})]})),_:1})}var S=i(9281),k=i(5901);const L=(0,s.aZ)({name:"RecipeCard",emits:["select"],props:{recipe:{type:S.Z,required:!0},isSelected:{type:Boolean,default:!1},editMode:{type:Boolean,default:!1}},setup(){const e=(0,u.L)();return{userInteractionStore:e}},computed:{liked:{get(){return this.userInteractionStore.hasLiked(this.recipe)},set(e){this.userInteractionStore.setLiked(this.recipe,e)}}},methods:{showMoreInfo(){this.$q.dialog({component:k.Z,componentProps:{recipe:this.recipe,isSelected:this.isSelected,editMode:this.editMode}}).onOk((()=>{this.$emit("select")}))}}});var y=i(1639),q=i(4458),b=i(335),I=i(3190),_=i(990),Z=i(4455),C=i(1221),W=i(2857),z=i(9984),P=i.n(z);const V=(0,y.Z)(L,[["render",x],["__scopeId","data-v-38a58096"]]),M=V;P()(L,"components",{QCard:q.Z,QImg:b.Z,QCardSection:I.Z,QBadge:_.Z,QBtn:Z.Z,QCheckbox:C.Z,QIcon:W.Z});const Q={id:"action-box",class:"q-px-md"},j={id:"content"},R={class:"page-value"},D={class:"text-subtitle1"},$={style:{"font-size":"0.8em"}};function H(e,t,i,o,n,l){const r=(0,s.up)("q-icon"),a=(0,s.up)("q-btn"),d=(0,s.up)("q-select");return(0,s.wg)(),(0,s.iD)("div",Q,[(0,s._)("div",j,[(0,s.Wm)(a,{disabled:e.isFirstPage,onClick:t[0]||(t[0]=()=>e.pageIndex=0)},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"fa-solid fa-backward-fast",size:"15px"})])),_:1},8,["disabled"]),(0,s.Wm)(a,{disabled:!e.hasPreviousPage,onClick:t[1]||(t[1]=()=>e.pageIndex--)},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"fa-solid fa-backward-step",size:"15px"})])),_:1},8,["disabled"]),(0,s._)("div",R,[(0,s._)("span",D,(0,h.zw)(e.pageIndex+1)+" / "+(0,h.zw)(Math.max(1,e.pageCount)),1),(0,s._)("span",$,"Recepten "+(0,h.zw)(0==e.totalItems?0:e.pageIndex*e.pageSize+1)+" - "+(0,h.zw)(Math.min((e.pageIndex+1)*e.pageSize,e.totalItems))+" van "+(0,h.zw)(e.totalItems),1)]),(0,s.Wm)(a,{disabled:!e.hasNextPage,onClick:t[2]||(t[2]=()=>e.pageIndex++)},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"fa-solid fa-forward-step",size:"15px"})])),_:1},8,["disabled"]),(0,s.Wm)(a,{disabled:e.isLastPage,onClick:t[3]||(t[3]=()=>e.pageIndex=e.pageCount-1)},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"fa-solid fa-forward-fast",size:"15px"})])),_:1},8,["disabled"]),(0,s.Wm)(d,{outlined:"",modelValue:e.itemsPerPage,"onUpdate:modelValue":t[4]||(t[4]=t=>e.itemsPerPage=t),options:e.pageSizeOptions,dense:"","options-dense":"",label:"Per pagina",style:{width:"140px"}},{prepend:(0,s.w5)((()=>[(0,s.Wm)(r,{size:"15px",name:"fa-solid fa-arrow-down-1-9",class:"q-mr-sm"})])),_:1},8,["modelValue","options"])])])}const U=(0,s.aZ)({name:"PageSelect",emits:["update:modelValue","update:pageSize"],props:{modelValue:{type:Number,required:!0},totalItems:{type:Number,required:!0},pageSize:{type:Number,required:!0},pageSizeOptions:{type:Array,default:()=>[10,20,30,40,50,60]}},watch:{pageCount(e){e<this.pageIndex+1&&(this.pageIndex=Math.max(0,e-1))}},computed:{pageIndex:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},itemsPerPage:{get(){return this.pageSize},set(e){this.$emit("update:pageSize",e)}},pageCount(){return Math.ceil(this.totalItems/this.pageSize)},hasNextPage(){return this.pageIndex+1<this.pageCount},isLastPage(){return this.pageIndex+1===this.pageCount},hasPreviousPage(){return this.pageIndex+1>1},isFirstPage(){return this.pageIndex+1==1}}});var F=i(8556);const A=(0,y.Z)(U,[["render",H],["__scopeId","data-v-032141f7"]]),B=A;function O(e,t,i,o,n,l){const r=(0,s.up)("q-select");return(0,s.wg)(),(0,s.j4)(r,(0,s.dG)({modelValue:e.model,"onUpdate:modelValue":t[0]||(t[0]=t=>e.model=t)},e.$attrs,{options:e.autocompleteOptions,onFilter:e.filterFn,debounce:"500","use-input":"","option-label":e.optionLabel}),null,16,["modelValue","options","onFilter","option-label"])}P()(U,"components",{QBtn:Z.Z,QIcon:W.Z,QSelect:F.Z});const T=(0,s.aZ)({name:"FilterSelect",props:{options:{type:Object,required:!0},modelValue:{required:!0},listSize:{type:Number,default:10},optionLabel:{type:Function,default:e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.toString())&&void 0!==t?t:""}}},setup(){const e=(0,m.iH)([]);return{autocompleteOptions:e}},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},labels(){return this.options.map((e=>this.optionLabel(e)))},values(){return this.options}},methods:{filterFn(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.autocompleteOptions=this.values.filter(((e,i)=>{const s=this.labels[i];return s.toLowerCase().indexOf(t)>-1})).slice(0,this.listSize)}:()=>{this.autocompleteOptions=this.values.slice(0,this.listSize)})}}}),Y=(0,y.Z)(T,[["render",O]]),E=Y;P()(T,"components",{QSelect:F.Z});var N=i(7774),K=i(7848),G=i(9457);class J{constructor(){this.props={ingredients:{value:[],rule(e){const t=e.ingredients.map((e=>e.product));return!this.value.map((e=>t.includes(e))).includes(!1)},isSet(){return 0!==this.value.length}},tags:{value:[],rule(e){return void 0!==this.value.find((t=>e.tags.includes(t)))},isSet(){return 0!==this.value.length}},searchText:{value:"",rule(e){const t=new RegExp(this.value.replace(/[`~!@#$%^()_|+=?;:'",.<>\{\}\[\]\\\/]/gi,"").replace("-","-").replace("*",".*?"),"i");return t.test(e.name)},isSet(){return!!this.value}},onlyLiked:{value:!1,userInteractionStore:(0,u.L)(),rule(e){return this.userInteractionStore.hasLiked(e)},isSet(){return!1!==this.value}},showHidden:{value:!1,userInteractionStore:(0,u.L)(),rule(e){return!this.userInteractionStore.hasHidden(e)},isSet(){return!1!==this.value}}}}getActiveRules(){return Object.values(this.props).filter((e=>e.isSet()))}isSet(){return this.getActiveRules().length>0}filterFn(e){return!this.getActiveRules().map((t=>t.rule(e))).includes(!1)}}const X=(0,s.aZ)({components:{RecipeCard:M,PageSelect:B,FilterSelect:E},name:"MenuBook",props:{recipes:{type:Array,required:!0}},setup(){const e=(0,u.L)(),t=(0,N.Wp)(),i=(0,K.V)();return{shoppingListStore:t,userInteractionStore:e,modelStore:i,filter:(0,m.iH)(new J)}},data(){return{pageIndex:0,itemsPerPage:30}},methods:{onSelectRecipe(e){var t;this.currentList.recipeIds.includes(null!==(t=e.id)&&void 0!==t?t:"")?this.shoppingListStore.removeRecipeFromList(this.currentList,e):this.shoppingListStore.addRecipeToList(this.currentList,e)}},computed:{currentList(){return this.shoppingListStore.getSelectedList()},displayList(){return this.recipes},orderdList(){return[...this.displayList].sort(((e,t)=>e.name.localeCompare(t.name)))},resultList(){return this.filter.isSet()?this.orderdList.filter((e=>this.filter.filterFn(e))):this.orderdList},pageList(){return this.resultList.slice(this.pageIndex*this.itemsPerPage,this.pageIndex*this.itemsPerPage+this.itemsPerPage)},allProducts(){return this.modelStore.products.getAll().sort(((e,t)=>e.name.localeCompare(t.name)))},allTags(){return G.Jy}}});var ee=i(6611);const te=(0,y.Z)(X,[["render",p],["__scopeId","data-v-cd5c07c6"]]),ie=te;P()(X,"components",{QInput:ee.Z,QIcon:W.Z,QCheckbox:C.Z});const se=e=>((0,s.dD)("data-v-461d4406"),e=e(),(0,s.Cn)(),e),oe={id:"component"},ne={class:"text-h3 text-center q-mt-lg row justify-center items-center"},le={class:"q-ml-sm"},re={class:"text-subtitle2 text-center q-mt-sm"},ae=se((()=>(0,s._)("div",{class:"row justify-end q-pr-sm"},null,-1))),de={key:0,class:"text-caption q-mt-sm q-mb-lg flex row justify-around no-wrap"},ce=se((()=>(0,s._)("div",{class:"space"},null,-1))),pe=se((()=>(0,s._)("div",{class:"space"},null,-1))),ue=se((()=>(0,s._)("div",{class:"space"},null,-1))),me={key:0,class:"text-h6 text-italic text-center q-mt-lg q-pt-lg"};function he(e,t,i,o,n,l){const r=(0,s.up)("q-btn"),a=(0,s.up)("q-icon"),d=(0,s.up)("save-selector"),c=(0,s.up)("q-tooltip"),p=(0,s.up)("menu-list-item"),u=(0,s.up)("q-list"),m=(0,s.up)("q-scroll-area");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",oe,[(0,s.Wm)(m,{id:"list"},{default:(0,s.w5)((()=>[(0,s._)("div",ne,[(0,s.Uk)(" Weekmenu "),(0,s._)("div",le,[e.currentList.id!==e.shoppingListStore.current.id?((0,s.wg)(),(0,s.j4)(r,{key:0,class:"q-ma-none",size:"sm",padding:"sm",flat:"",icon:e.shoppingListStore.getEditMode()?"edit":"edit_off",color:"grey-5",onClick:t[0]||(t[0]=()=>e.shoppingListStore.editMode=!e.shoppingListStore.editMode)},null,8,["icon"])):((0,s.wg)(),(0,s.j4)(a,{key:1,name:"edit",size:"16px",class:"q-px-sm",color:"grey-6"}))])]),(0,s._)("div",re,(0,h.zw)(e.recipes.length)+" items",1),(0,s.Wm)(d),ae,e.currentList.id===e.shoppingListStore.current.id?((0,s.wg)(),(0,s.iD)("div",de,[ce,(0,s.Wm)(r,{color:"primary",class:"full-width",icon:"fa-solid fa-cart-plus",size:"sm",padding:"sm lg",onClick:e.addRandomRecipe},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Recept toevoegen")])),_:1})])),_:1},8,["onClick"]),pe,(0,s.Wm)(r,{color:"primary",class:"full-width",icon:"fa-solid fa-close",size:"sm",padding:"sm lg",onClick:t[1]||(t[1]=()=>e.shoppingListStore.clearList(e.currentList))},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Lijst leegmaken")])),_:1})])),_:1}),ue])):(0,s.kq)("",!0),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.recipes,(t=>{var i;return(0,s.wg)(),(0,s.j4)(p,{onClick:()=>e.showRecipeInfo(t),onDelete:()=>e.deleteRecipe(t),key:null!==(i=t.id)&&void 0!==i?i:void 0,recipe:t,editMode:e.shoppingListStore.getEditMode()},null,8,["onClick","onDelete","recipe","editMode"])})),128)),0===e.recipes.length?((0,s.wg)(),(0,s.iD)("div",me,"Lege lijst")):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(r,{outline:"",to:"/print",color:"secondary",class:"q-mx-md",label:"Boodschappenlijst",icon:"fa-solid fa-print"})])])}const ge=["src"],fe={class:"column"};function ve(e,t,i,o,n,l){const r=(0,s.up)("q-avatar"),a=(0,s.up)("q-item-section"),d=(0,s.up)("q-item-label"),c=(0,s.up)("q-btn"),p=(0,s.up)("q-item"),u=(0,s.up)("q-separator"),m=(0,s.Q2)("ripple");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{class:"menu-list-item",onClick:t[1]||(t[1]=()=>e.$emit("click")),clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(a,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>{var t;return[(0,s._)("img",{src:null!==(t=e.recipe.imageLink)&&void 0!==t?t:""},null,8,ge)]})),_:1})])),_:1}),(0,s.Wm)(a,null,{default:(0,s.w5)((()=>[(0,s._)("div",fe,[(0,s.Wm)(d,{class:"text-weight-medium ellipsis-2-lines q-mt-sm"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,h.zw)(e.recipe.name),1)])),_:1}),(0,s.Wm)(d,{caption:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,h.zw)(e.recipe.subtitle),1)])),_:1})])])),_:1}),(0,s.Wm)(a,{side:"",center:""},{default:(0,s.w5)((()=>[e.editMode?((0,s.wg)(),(0,s.j4)(c,{key:0,size:"5px",color:"red",class:"text-weight-medium",icon:"close",round:"",onClick:t[0]||(t[0]=()=>e.$emit("delete"))})):(0,s.kq)("",!0)])),_:1})])),_:1})),[[m]]),(0,s.Wm)(u)],64)}const we=(0,s.aZ)({name:"MenuListItem",emits:["click","delete"],props:{recipe:{type:S.Z,required:!0},editMode:{type:Boolean,default:!1}}});var xe=i(490),Se=i(1233),ke=i(1357),Le=i(3115),ye=i(926),qe=i(1136);const be=(0,y.Z)(we,[["render",ve],["__scopeId","data-v-b2647f92"]]),Ie=be;P()(we,"components",{QItem:xe.Z,QItemSection:Se.Z,QAvatar:ke.Z,QItemLabel:Le.Z,QBtn:Z.Z,QSeparator:ye.Z}),P()(we,"directives",{Ripple:qe.Z});var _e=i(1957);const Ze={class:"column no-wrap q-pa-sm",style:{height:"100px"}},Ce={class:"flex row no-wrap items-center q-pt-sm q-pr-xl"};function We(e,t,i,o,n,l){const r=(0,s.up)("q-btn"),a=(0,s.up)("q-card-section"),d=(0,s.up)("q-card"),c=(0,s.up)("q-scroll-area");return(0,s.wg)(),(0,s.iD)("div",Ze,[(0,s.Wm)(c,{class:"full-height"},{default:(0,s.w5)((()=>[(0,s._)("div",Ce,[(0,s.Wm)(d,{style:{height:"min-content"},class:(0,h.C_)(["q-mx-sm",{"hover-bg-grey-2":e.selectedId!==e.shoppingListStore.current.id,"bg-secondary":e.selectedId===e.shoppingListStore.current.id}]),onClick:t[1]||(t[1]=()=>e.selectItem(e.shoppingListStore.current))},{default:(0,s.w5)((()=>[(0,s.Wm)(a,{class:"flex colum q-py-none"},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,h.C_)(["text-subtitle2 cursor-pointer q-py-md",{"hover-primary":e.selectedId!==e.shoppingListStore.current.id,"text-white":e.selectedId===e.shoppingListStore.current.id}]),style:{width:"max-content"}},"Deze week",2),(0,s.Wm)(r,{icon:"exposure_plus_1",round:"",size:"8px",padding:"1px",outline:"",style:{position:"absolute",right:"-8px",top:"calc(50% - 8px)"},class:"bg-white hover-primary text-grey-4",onClick:t[0]||(t[0]=(0,_e.iM)((()=>e.addItem()),["stop"]))})])),_:1})])),_:1},8,["class"]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.saves,(t=>((0,s.wg)(),(0,s.j4)(d,{key:t.id,style:{height:"min-content"},class:(0,h.C_)(["q-mx-sm",{"hover-bg-grey-2":e.selectedId!==t.id,"bg-secondary":e.selectedId===t.id}]),onClick:()=>e.selectItem(t)},{default:(0,s.w5)((()=>[(0,s.Wm)(a,{class:"flex colum q-py-none"},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,h.C_)(["text-subtitle2 cursor-pointer q-py-md",{"hover-primary":e.selectedId!==t.id,"text-white":e.selectedId===t.id}]),style:{width:"max-content"}},(0,h.zw)(t.name),3),(0,s.Wm)(r,{icon:"delete",size:"8px",padding:"1px",outline:"",style:{position:"absolute",right:"-8px",top:"calc(50% - 8px)"},class:"bg-white hover-primary",color:"grey-4",onClick:(0,_e.iM)((()=>e.removeItem(t)),["stop"])},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])])),_:1})])}var ze=i(4078),Pe=i(7975);const Ve={class:"text-h5 text-bold q-pt-md"},Me={class:"text-body1 q-pt-md"},Qe={class:"flex row q-gutter-sm justify-end"};function je(e,t,i,o,n,l){const r=(0,s.up)("q-btn"),a=(0,s.up)("q-form"),d=(0,s.up)("q-card-section"),c=(0,s.up)("q-card"),p=(0,s.up)("q-dialog");return(0,s.wg)(),(0,s.j4)(p,{id:"dialog",ref:"dialog",onHide:t[0]||(t[0]=()=>e.$emit("hide"))},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{style:{width:"40%","min-width":"400px","max-width":"unset"}},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"q-gutter-y-sm"},{default:(0,s.w5)((()=>[(0,s.Wm)(a,{autofocus:"",onSubmit:(0,_e.iM)(e.ok,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Ve,(0,h.zw)(e.title),1),(0,s._)("div",Me,(0,h.zw)(e.text),1),(0,s._)("div",Qe,[(0,s.Wm)(r,{flat:"",label:"Nee",onClick:e.hide},null,8,["onClick"]),(0,s.Wm)(r,{color:"primary",label:"Ja",type:"submit"})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},512)}const Re=(0,s.aZ)({name:"ConfirmDialog",emits:["ok","hide"],props:{title:{type:String,default:"Let op!"},text:{type:String,default:"Weet je het zeker?"}},methods:{show(){this.dialogComponent.show()},hide(){this.dialogComponent.hide()},ok(){this.$emit("ok"),this.hide()}},computed:{dialogComponent(){return this.$refs["dialog"]}}});var De=i(7743),$e=i(8326);const He=(0,y.Z)(Re,[["render",je]]),Ue=He;P()(Re,"components",{QDialog:De.Z,QCard:q.Z,QCardSection:I.Z,QForm:$e.Z,QBtn:Z.Z});var Fe=function(e,t,i,s){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,n){function l(e){try{a(s.next(e))}catch(t){n(t)}}function r(e){try{a(s["throw"](e))}catch(t){n(t)}}function a(e){e.done?i(e.value):o(e.value).then(l,r)}a((s=s.apply(e,t||[])).next())}))};function Ae(e){return Fe(this,void 0,void 0,(function*(){return new Promise((t=>{Pe.Z.create(e).onOk(((...e)=>{t({result:"ok",params:e})})).onCancel(((...e)=>{t({result:"cancel",params:e})}))}))}))}function Be(e="Weet je het zeker?",t="Let op!"){return Fe(this,void 0,void 0,(function*(){const i=yield Ae({component:Ue,componentProps:{text:e,title:t}});return"ok"===i.result}))}function Oe(e="Weet je het zeker?",t="Let op!"){return Fe(this,void 0,void 0,(function*(){return new Promise(((i,s)=>Fe(this,void 0,void 0,(function*(){const o=yield Be(e,t);o?i():s()}))))}))}const Te=(0,s.aZ)({name:"SaveSelector",setup(){const e=(0,N.Wp)();return{shoppingListStore:e,currentIndex:(0,m.iH)(-1)}},computed:{saves(){return[...this.shoppingListStore.items].sort(((e,t)=>-1*e.name.localeCompare(t.name)))},selectedId(){return this.shoppingListStore.getSelectedList().id}},methods:{selectItem(e){this.shoppingListStore.selectedListId=e.id},removeItem(e){const t=this.shoppingListStore.items.findIndex((t=>t.id===e.id));t<0||Oe(`Lijst '${e.name}' verwijderen?. Dit kan niet ongedaan gemaakt worden.`).then((()=>{this.shoppingListStore.items.splice(t,1)}))},addItem(){const e=new Date,t=`Week ${(0,ze.b7)()} - ${e.getFullYear()}/${e.getMonth()+1}/${e.getDate()}`;let i=t;for(let o=1;this.shoppingListStore.nameExists(i);o++)i=t+` (${o})`;const s=this.shoppingListStore.saveSelectedListAs(i).id;this.selectedId===this.shoppingListStore.current.id&&this.shoppingListStore.clearList(this.shoppingListStore.current),this.selectedId=s}}});var Ye=i(1019);const Ee=(0,y.Z)(Te,[["render",We]]),Ne=Ee;P()(Te,"components",{QScrollArea:Ye.Z,QCard:q.Z,QCardSection:I.Z,QBtn:Z.Z});const Ke=(0,s.aZ)({components:{MenuListItem:Ie,SaveSelector:Ne},name:"MenuList",props:{allRecipes:{type:Array,default:()=>[]}},setup(){const e=(0,N.Wp)(),t=(0,u.L)(),i=(0,K.V)();return{shoppingListStore:e,userInteractionStore:t,modelStore:i}},computed:{currentList(){return this.shoppingListStore.getSelectedList()},recipes(){return this.currentList.recipeIds.map(this.modelStore.findRecipeById)}},methods:{deleteRecipe(e){this.shoppingListStore.removeRecipeFromList(this.currentList,e)},showRecipeInfo(e){this.$q.dialog({component:k.Z,componentProps:{recipe:e,isSelected:!0,editMode:this.shoppingListStore.getEditMode()}}).onOk((()=>{this.deleteRecipe(e)}))},addRandomRecipe(){const e=this.recipes.map((e=>e.name)),t=this.allRecipes.filter((t=>!e.includes(t.name)&&!this.userInteractionStore.hasHidden(t)));if(0===t.length)return;const i={};t.forEach((e=>{void 0===i[e.name]&&(i[e.name]=[]),i[e.name].push(e)}));const s=e=>{const t=e.length;if(1===t)return e[0];const i=Math.floor(Math.random()*t);return e[i]},o=s(Object.entries(i)),n=s(o[1]);this.shoppingListStore.addRecipeToList(this.currentList,n)}}});var Ge=i(6858),Je=i(3246);const Xe=(0,y.Z)(Ke,[["render",he],["__scopeId","data-v-461d4406"]]),et=Xe;P()(Ke,"components",{QScrollArea:Ye.Z,QBtn:Z.Z,QIcon:W.Z,QTooltip:Ge.Z,QList:Je.Z});const tt=(0,s.aZ)({components:{MenuList:et,MenuBook:ie},name:"IndexPage",setup(){const e=(0,K.V)();return(0,n.Z)((()=>{const e="Groceries App";return{title:e}})),{recipes:e.recipes.getAll()}}});var it=i(9885);const st=(0,y.Z)(tt,[["render",o],["__scopeId","data-v-59765b44"]]),ot=st;P()(tt,"components",{QPage:it.Z})}}]);